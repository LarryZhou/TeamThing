<!DOCTYPE HTML>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Team*Thing</title>

<!-- BEGIN: PAGE PRESENTATION FILES -->
<link href='http://fonts.googleapis.com/css?family=Cabin+Condensed|Oleo+Script:700' rel='stylesheet' type='text/css'>
<link href="tt_assets/css/style.css" rel="stylesheet" type="text/css">
<link href="tt_assets/css/login.css" rel="stylesheet" type="text/css">
<link href="tt_assets/css/form-elements.css" rel="stylesheet" type="text/css">
<!-- END: PAGE PRESENTATION FILES -->

<script src="Scripts/path.min.js"></script> 
<script src="http://code.jquery.com/jquery-1.7.1.min.js"></script>

<!-- BEGIN: KENDO UI FILES -->
<link href="tt_assets/kendoui/styles/kendo.common.min.css" rel="stylesheet">
<link href="tt_assets/kendoui/styles/kendo.default.min.css" rel="stylesheet">
<script src="http://cdn.kendostatic.com/2012.1.322/js/kendo.all.min.js"></script>
<!-- END: KENDO UI FILES -->

<!-- BEGIN: PAGE TOOLS -->
<script type="text/javascript" src="tt_assets/js/jquery.easing.1.3.js"></script>
<script type="text/javascript" src="tt_assets/js/oauth.js"></script>
<script src="tt_assets/js/jquery.uniform.min.js" type="text/javascript"></script>
<link rel="stylesheet" href="tt_assets/css/uniform.aristo.css" type="text/css" media="screen" charset="utf-8" />
<!-- END: PAGE TOOLS -->

<!-- BEGIN: KENDO UI INSERTED FILES -->

<script src="Scripts/oAuthProvider.js"></script>
<script src="Scripts/dataProvider.js"></script>
<script src="Scripts/teamThing.js"></script>
<!-- BEGIN: KENDO UI INSERTED FILES -->

</head>

<body>

<div id="wrapper">
<img src="tt_assets/images/tt_logo.png" width="281" height="48" alt="team*thing" class="displaylogo">
<ul id="signin-slides">
<li id="signin-slide-1">
<div id="displaybox">
	<div class="arrow_box">
		<!--<div id="login-divet"><img src="tt_assets/images/login-panel-divet-top.jpg" width="358" height="26"></div>-->
		<div class="signin">
			<h1>Sign-In</h1>
            <input type="text" name="username" id="username" value=""><label for="username"></label>
            <input type="password" name="password" id="password" value=""><label for="password"></label>
        	<a id="google-signin-btn" href="#"><img src="tt_assets/images/google-signin-btn.jpg" width="212" height="38" alt="Sign In with Google"></a>
        </div>
		<div class="intro">
			<h1>Welcome</h1>
			<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque ut mi sem. In pellentesque dapibus quam nec volutpat. Curabitur pretium magna non sem dapibus eget tempus dui rhoncus. Maecenas purus tellus, facilisis et accumsan quis, egestas a est. Nam id eros ut nunc auctor iaculis. Aliquam dapibus dictum nulla interdum laoreet. In hac habitasse platea dictumst.</p>
        </div>
	</div>
    <!-- BEGIN: GOOGLE SIGN-IN WINDOW -->
	<!--<div id="signin-window">Google Sign In</div>-->
	<!-- END: GOOGLE SIGN-IN WINDOW -->
</div>
</li>
<li id="signin-slide-2">
<div id="displaybox">
	<div class="arrow_box">
		<!--<div id="login-divet"><img src="tt_assets/images/login-panel-divet-top.jpg" width="358" height="26"></div>-->
		<div class="signin">
			<h1>Select A Team</h1>
            <select name="jumpMenu" id="jumpMenu" onChange="MM_jumpMenu('parent',this,0)">
				<option>Team One Name</option>
    			<option>Team Two Name</option>
    			<option>Team Three Name</option>
    			<option>Team Four Name</option>
    			<option>Team Five Name</option>
			</select>
        </div>
		<div class="intro">
			<h1>Create a Team</h1>
			<input type="text" name="teamname" id="teamname" value=""><label for="teamname"></label>
            <input type="submit" name="submit" value="Create Team">
        </div>
	</div>
</div>
</li>
</ul>
<div class="clear-float"></div>
</div>

<div id="header" class="bkgnd-smooth-dark">
        <h1>TeamThing</h1>
         <div id="navigation" class="navigation">
            <!--<span data-bind="{text:user.EmailAddress}"></span>-->
            <a href="/my" class="k-button nav">
                Home</a>
             <a href="/logout" class="k-button nav">Logout</a>
        </div>
    </div>
    <div id="teamThing">
        <div id="appFrame">
        </div>
    </div>
    <div id="dialog" class="window">
    </div>

<script type="text/javascript">

function AdjustLayout(WindowWidth,WindowHeight) {
	
	NewWrapperMargin = (WindowHeight-WindowHeight)/2;
	
	//$('#wrapper').css('margin-top',NewWrapperMargin+'px');
	//$("#wrapper").animate({ marginTop: NewWrapperMargin }, { 'duration': 1000, 'easing': 'easeOutCubic'} );
	NewCarouselWidth = WindowWidth;
	$('#signin-slides').css('width', (NewCarouselWidth*2)+'px');
	$('#signin-slides li').css('width', NewCarouselWidth+'px');
}

$(document).ready(function(){
	
	teamThing.init($("#teamThing"));
	
	APPURL = 'http://teamthing.apphb.com';
		
	$.get(
		APPURL+'/api/team?$filter=IsPublic%20eq%20true',
    	function(data) { 
			console.log('Profile Image: ' + data[1].imagePath);
			TeamsOutput = '';
			for(i=0;i<data.length;i++) {
				TeamsOutput+='<p>'+data[i].name+'</p>';
			}
			$('#dummy-output').html(TeamsOutput);
		}
	);
	
/*
|--------------------------------------------------------------------------
|	BEGIN: KENDO UI FUNCTIONS
|--------------------------------------------------------------------------
*/
	$("#google-signin-btn").click(function(event) {
  		event.preventDefault();
		//connectUserWithGoogle(); // This will work when this page is harnessed with Kendo UI Team's current code.
		onClose();
	});
	
	onClose = function() {
		var ThisLeft = $('li#signin-slide-2').offset().left;
		$("#signin-slides").animate({ left: $('#signin-slides').offset().left + 30 }, { 'duration': 100, 'easing': 'linear' }).animate({ left: $('#signin-slides').offset().left - ThisLeft }, { 'duration': 1000, 'easing': 'easeInOutBack' });
	}
	/*

	var SignInWindow = $("#signin-window").kendoWindow({
        visible: false,
		width: "500px",
		height: "400px",
		title: "Sign In with Google",
		content: authUrl,
		iframe:true,
		modal:true,
		close: onClose
    }).data("kendoWindow");

	$("#google-signin-btn").click(function() {
    	var SignInWindow = $("#signin-window").data("kendoWindow");
		SignInWindow.center();
    	SignInWindow.open();
	});
	
	$.ajax({
  		url: authUrl,
  		success: function(data) {
			console.log(data);
		}
	});*/
/*
|--------------------------------------------------------------------------
|	END: KENDO UI FUNCTIONS
|--------------------------------------------------------------------------
*/

/*
|--------------------------------------------------------------------------
|	BEGIN: LOG IN FUNCTIONS
|--------------------------------------------------------------------------
*/
	UsernameLabel = 'Username';
	$('#username').next('label').html('').css('height', '0px').html(UsernameLabel);
	PasswordLabel = 'Password';
	$('#password').next('label').html('').css('height', '0px').html(PasswordLabel);
	TeamNameLabel = 'Team Name';
	$('#teamname').next('label').html('').css('height', '0px').html(TeamNameLabel);
	
	$('#username, #password, #teamname').focus(function() {
		$(this).next('label').html('');
	});
	
	$('#username').blur(function() {
		if($(this).val() == '') {
			$(this).next('label').html(UsernameLabel);
		}
	});
	
	$('#password').blur(function() {
		if($(this).val() == '') {
			$(this).next('label').html(PasswordLabel);
		}
	});
	
	$('#teamname').blur(function() {
		if($(this).val() == '') {
			$(this).next('label').html(TeamNameLabel);
		}
	});
/*
|--------------------------------------------------------------------------
|	END: LOG IN FUNCTIONS
|--------------------------------------------------------------------------
*/
	
	AdjustLayout($(window).width(),$(window).height());
	
	$("select#jumpMenu").uniform();
	
	$(window).resize(function(){
		AdjustLayout($(window).width(),$(window).height())
	});
	
});
</script>

</body>
</html>
